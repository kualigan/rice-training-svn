<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

  <bean id="BookOrderDocument" parent="TransactionalDocumentEntry"> 
    <property name="documentTypeName" value="BookOrderDocumentType"/>
    <property name="documentClass" value="trnapp.bookstore.BookOrderDocument"/>
  </bean>
  
  <bean id="BookOrder-View" parent="Uif-TransactionalDocumentView">
    <property name="headerText" value="Book Order"/>
    <property name="formClass" value="trnapp.bookstore.BookOrderForm"/>
    <property name="documentClass" value="trnapp.bookstore.BookOrderDocument"/>
    <property name="items">
      <list>
        <ref bean="BookOrder-MainPage"/>
      </list>
    </property>
  </bean>

  <bean id="BookOrder-MainPage" parent="Uif-DocumentPage">
 	<property name="items">
 		<ref bean="BookOrder-EntriesSection" />
 	</property> 
  </bean>
  
  <bean id="BookOrder-EntriesSection" parent="Uif-Disclosure-TableCollectionSection">
	<property name="headerText" value="Book Order Entries" />
	<property name="collectionObjectClass" value="trnapp.bookstore.BookOrderEntry" />
	<property name="propertyName" value="bookOrderEntries" />
	<property name="renderAddLine" value="true" />
	<property name="renderLineActions" value="true" />
	<property name="items">
		<list>
			<bean parent="Uif-InputField" p:label="Book Id" p:propertyName="bookId" p:widgetInputOnly="true">
				<property name="quickfinder">
					<bean parent="Uif-QuickFinder" p:dataObjectClassName="trnapp.bookstore.Book"
						p:fieldConversions="title:newCollectionLines['document.bookOrderEntries'].book.title" >
					</bean>
				</property>
			</bean>
    		<bean parent="Uif-InputField"  p:label="Title" p:propertyName="book.title"/>
    		<bean parent="Uif-InputField" p:label="Quantity" p:propertyName="quantity" />
		</list>
	</property>
  </bean>

</beans>
